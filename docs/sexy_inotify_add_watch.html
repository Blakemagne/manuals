<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> üìö INOTIFY_ADD_WATCH Manual </title>
    <link href="./index.css" rel="stylesheet">
</head>

<body>
    <header class="nav-header">
        <a href="./index.html" class="home-button">üè† Home</a>
    </header>
    <article>
        <div><h1>üìö INOTIFY_ADD_WATCH Manual</h1><blockquote>*Beautiful, readable documentation for command-line tools*</blockquote><hr></hr><p>[<a href="./inotify_add_watch.html">inotify_add_watch(2)</a>](inotify_add_watch.html)                                                                        System Calls Manual                                                                        [<a href="./inotify_add_watch.html">inotify_add_watch(2)</a>](inotify_add_watch.html)</p><h2>üìë Table of Contents</h2><p>- <a href="#name">Name</a>   - <a href="#library">Library</a> - <a href="#synopsis">Synopsis</a> - <a href="#description">Description</a>   - <a href="#return-value">Return Value</a>   - <a href="#errors">Errors</a>   - <a href="#standards">Standards</a>   - <a href="#history">History</a> - <a href="#examples">Examples</a> - <a href="#see-also">See Also</a></p><h2 id="name">Name</h2><pre><code>inotify_add_watch - add a watch to an initialized inotify instance
</code></pre><h3 id="library">Library</h3><pre><code>Standard C library (libc, -lc)
</code></pre><h2 id="synopsis">Synopsis</h2><p>` #include <sys/inotify.h></p><p>int inotify_add_watch(int fd, const char *pathname, uint32_t mask); `</p><h2 id="description">Description</h2><p>` inotify_add_watch() adds a new watch, or modifies an existing watch, for the file whose location is specified in pathname; the caller must have read permission for this file.  The fd argument is a file  descriptor  referring  to the inotify instance whose watch list is to be modified.  The events to be monitored for pathname are specified in the mask bit-mask argument.  See <a href="./inotify.html">inotify(7)</a> for a description of the bits that can be set in mask.</p><p>A successful call to inotify_add_watch() returns a unique watch descriptor for this inotify instance, for the filesystem object (inode) that corresponds to pathname.  If the filesystem object  was not  previously  being watched by this inotify instance, then the watch descriptor is newly allocated.  If the filesystem object was already being watched (perhaps via a different link to the same object), then the descriptor for the existing watch is returned.</p><p>The watch descriptor is returned by later <a href="./read.html">read(2)</a>s from the inotify file descriptor.  These reads fetch inotify_event structures (see <a href="./inotify.html">inotify(7)</a>) indicating filesystem events; the watch descriptor inside this structure identifies the object for which the event occurred. `</p><h3 id="return-value">Return Value</h3><pre><code>On success, inotify_add_watch() returns a watch descriptor (a nonnegative integer).  On error, -1 is returned and errno is set to indicate the error.
</code></pre><h3 id="errors">Errors</h3><p>` EACCES Read access to the given file is not permitted.</p><p>EBADF  The given file descriptor is not valid.</p><p>EEXIST mask contains IN_MASK_CREATE and pathname refers to a file already being watched by the same fd.</p><p>EFAULT pathname points outside of the process's accessible address space.</p><p>EINVAL The given event mask contains no valid events; or mask contains both IN_MASK_ADD and IN_MASK_CREATE; or fd is not an inotify file descriptor.</p><p>ENAMETOOLONG        pathname is too long.</p><p>ENOENT A directory component in pathname does not exist or is a dangling symbolic link.</p><p>ENOMEM Insufficient kernel memory was available.</p><p>ENOSPC The user limit on the total number of inotify watches was reached or the kernel failed to allocate a needed resource.</p><p>ENOTDIR        mask contains IN_ONLYDIR and pathname is not a directory. `</p><h3 id="standards">Standards</h3><pre><code>Linux.
</code></pre><h3 id="history">History</h3><pre><code>Linux 2.6.13.
</code></pre><h2 id="examples">Examples</h2><pre><code>See inotify(7).
</code></pre><h2 id="see-also">See Also</h2><pre><code>inotify_init(2), inotify_rm_watch(2), inotify(7)
</code></pre><p>Linux man-pages 6.7                                                                              2023-10-31                                                                            [<a href="./inotify_add_watch.html">inotify_add_watch(2)</a>](inotify_add_watch.html)</p></div>
    </article>
</body>

</html>
