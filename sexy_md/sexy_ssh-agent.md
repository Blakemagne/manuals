# üìö SSH-AGENT Manual

> *Beautiful, readable documentation for command-line tools*

---

[SSH-AGENT(1)](SSH-AGENT.html)                General Commands Manual               [SSH-AGENT(1)](SSH-AGENT.html)


## üìë Table of Contents

- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Interactive Commands](#interactive-commands)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Attributes](#attributes)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Files](#files)
- [Examples](#examples)
- [See Also](#see-also)
- [Authors](#authors)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Attributes](#attributes)
  - [Versions](#versions)
  - [Versions](#versions)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Default Key Bindings](#default-key-bindings)
  - [Command Parsing And Execution](#command-parsing-and-execution)
  - [Parsing Syntax](#parsing-syntax)
  - [Commands](#commands)
  - [Clients And Sessions](#clients-and-sessions)
  - [Windows And Panes](#windows-and-panes)
  - [Key Bindings](#key-bindings)
- [Options](#options)
  - [Hooks](#hooks)
  - [Mouse Support](#mouse-support)
  - [Formats](#formats)
  - [Styles](#styles)
  - [Names And Titles](#names-and-titles)
  - [Global And Session Environment](#global-and-session-environment)
  - [Status Line](#status-line)
  - [Buffers](#buffers)
  - [Miscellaneous](#miscellaneous)
  - [Exit Messages](#exit-messages)
  - [Terminfo Extensions](#terminfo-extensions)
  - [Control Mode](#control-mode)
- [Environment](#environment)
- [Files](#files)
- [Examples](#examples)
- [See Also](#see-also)
- [Authors](#authors)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Examples](#examples)
  - [Author](#author)
  - [Reporting Bugs](#reporting-bugs)
  - [Copyright](#copyright)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
- [Environment](#environment)
  - [Attributes](#attributes)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [Examples](#examples)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Attributes](#attributes)
  - [Standards](#standards)
  - [History](#history)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Attributes](#attributes)
  - [Standards](#standards)
  - [Posix.1-2008.](#posix.1-2008.)
  - [History](#history)
  - [Posix.1-2001, Posix.2.](#posix.1-2001,-posix.2.)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [Examples](#examples)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Options](#options)
- [Files](#files)
- [Authors](#authors)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Default Key Bindings](#default-key-bindings)
  - [Command Parsing And Execution](#command-parsing-and-execution)
  - [Parsing Syntax](#parsing-syntax)
  - [Commands](#commands)
  - [Clients And Sessions](#clients-and-sessions)
  - [Windows And Panes](#windows-and-panes)
  - [Key Bindings](#key-bindings)
- [Options](#options)
  - [Hooks](#hooks)
  - [Mouse Support](#mouse-support)
  - [Formats](#formats)
  - [Styles](#styles)
  - [Names And Titles](#names-and-titles)
  - [Global And Session Environment](#global-and-session-environment)
  - [Status Line](#status-line)
  - [Buffers](#buffers)
  - [Miscellaneous](#miscellaneous)
  - [Exit Messages](#exit-messages)
  - [Terminfo Extensions](#terminfo-extensions)
  - [Control Mode](#control-mode)
- [Environment](#environment)
- [Files](#files)
- [Examples](#examples)
- [See Also](#see-also)
- [Authors](#authors)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Environment](#environment)
- [Files](#files)
  - [Exit Status](#exit-status)
- [See Also](#see-also)
- [Authors](#authors)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Options](#options)
  - [Caveats](#caveats)
- [Files](#files)
  - [Exit Values](#exit-values)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Moduli Generation](#moduli-generation)
  - [Certificates](#certificates)
  - [Fido Authenticator](#fido-authenticator)
  - [Key Revocation Lists](#key-revocation-lists)
  - [Allowed Signers](#allowed-signers)
- [Environment](#environment)
  - [Ssh_Sk_Provider](#ssh_sk_provider)
- [Files](#files)
- [See Also](#see-also)
- [Authors](#authors)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Exit Status](#exit-status)
- [Environment](#environment)
- [Files](#files)
- [See Also](#see-also)
  - [History](#history)
  - [Bugs](#bugs)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Note](#note)
- [Files](#files)
  - [Attributes](#attributes)
  - [Versions](#versions)
  - [Standards](#standards)
  - [Posix.1-2008.](#posix.1-2008.)
  - [History](#history)
  - [Notes](#notes)
- [Examples](#examples)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Author](#author)
  - [Reporting Bugs](#reporting-bugs)
  - [Copyright](#copyright)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Files](#files)
  - [Standards](#standards)
  - [Posix.1-2008.](#posix.1-2008.)
  - [History](#history)
  - [Posix.1-2001.](#posix.1-2001.)
- [Examples](#examples)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Notes](#notes)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Data Structures](#data-structures)
  - [Header Files](#header-files)
  - [Copyright](#copyright)
  - [3.0.13                            2025-02-05                         Ssl(7Ssl)](#3.0.13----------------------------2025-02-05-------------------------ssl(7ssl))
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Environment](#environment)
- [Files](#files)
- [See Also](#see-also)
- [Authors](#authors)


## Name {#name}

```
ssh-agent ‚Äî OpenSSH authentication agent
```



## Synopsis {#synopsis}

```
ssh-agent  [-c  |  -s]  [-Dd]  [-a  bind_address] [-E fingerprint_hash]
          [-O option] [-P allowed_providers] [-t life]
ssh-agent  [-a  bind_address]   [-E   fingerprint_hash]   [-O   option]
          [-P allowed_providers] [-t life] command [arg ...]
ssh-agent [-c | -s] -k
```



## Description {#description}

```
ssh-agent is a program to hold private keys used for public key authen‚Äê
tication.   Through  use  of environment variables the agent can be lo‚Äê
cated and automatically used for  authentication  when  logging  in  to
other machines using ssh(1).

The options are as follows:
```


       `-a bind_address`
               Bind the agent to the Unix-domain socket bind_address.  The de‚Äê
               fault is $TMPDIR/ssh-XXXXXXXXXX/agent.<ppid>.

       `-c      Generate`  C-shell  commands  on stdout.  This is the default if
               SHELL looks like it's a csh style of shell.

       `-D      Foreground` mode.  When this option is specified, ssh-agent will
               not fork.

       `-d      Debug` mode.  When this option is specified, ssh-agent will  not
               fork and will write debug information to standard error.

       `-E fingerprint_hash`
               Specifies  the  hash algorithm used when displaying key finger‚Äê
               prints.  Valid options are: ‚Äúmd5‚Äù and ‚Äúsha256‚Äù.  The default is
               ‚Äúsha256‚Äù.

       `-k      Kill` the current agent (given by the SSH_AGENT_PID  environment
               variable).

       `-O option`
               Specify  an  option when starting ssh-agent.  Currently two op‚Äê
               tions     are      supported:      allow-remote-pkcs11      and
               no-restrict-websafe.

               The  allow-remote-pkcs11  option  allows clients of a forwarded
               ssh-agent to load PKCS#11 or FIDO provider libraries.   By  de‚Äê
               fault only local clients may perform this operation.  Note that
               signalling  that  an ssh-agent client is remote is performed by
               ssh(1), and use of other tools to forward access to  the  agent
               socket may circumvent this restriction.

               The  no-restrict-websafe  option  instructs ssh-agent to permit
               signatures using FIDO keys that might be web authentication re‚Äê
               quests.  By default, ssh-agent refuses signature  requests  for
               FIDO  keys where the key application string does not start with
               ‚Äússh:‚Äù and when the data to be signed does not appear to  be  a
               ssh(1)  user  authentication  request or a ssh-keygen(1) signa‚Äê
               ture.  The default behaviour prevents  forwarded  access  to  a
               FIDO key from also implicitly forwarding the ability to authen‚Äê
               ticate to websites.

       `-P allowed_providers`
               Specify a pattern-list of acceptable paths for PKCS#11 provider
               and  FIDO authenticator middleware shared libraries that may be
               used with the -S or -s options to ssh-add(1).   Libraries  that
               do not match the pattern list will be refused.  See PATTERNS in
               ssh_config(5)  for  a  description of pattern-list syntax.  The
               default list is ‚Äúusr/lib*/*,/usr/local/lib*/*‚Äù.

       `-s      Generate` Bourne shell commands on stdout.  This is the  default
               if SHELL does not look like it's a csh style of shell.

       `-t life`
               Set  a  default  value  for  the maximum lifetime of identities
               added to the agent.  The lifetime may be specified  in  seconds
               or  in  a  time format specified in sshd_config(5).  A lifetime
               specified for an identity with ssh-add(1) overrides this value.
               Without this option the default maximum lifetime is forever.

```
command [arg ...]
        If a command (and optional arguments) is given,  this  is  exe‚Äê
        cuted  as a subprocess of the agent.  The agent exits automati‚Äê
        cally when the command given on the command line terminates.

There are two main ways to get an agent set up.  The first  is  at  the
start  of an X session, where all other windows or programs are started
as children of the ssh-agent program.  The agent starts a command under
which its environment variables are  exported,  for  example  ssh-agent
xterm &.  When the command terminates, so does the agent.

The  second  method  is  used  for  a login session.  When ssh-agent is
started, it prints the shell commands required to set  its  environment
variables, which in turn can be evaluated in the calling shell, for ex‚Äê
ample eval `ssh-agent -s`.

In  both  cases,  ssh(1)  looks at these environment variables and uses
them to establish a connection to the agent.

The agent initially does not have any private keys.  Keys are added us‚Äê
ing  ssh-add(1)  or  by  ssh(1)   when   AddKeysToAgent   is   set   in
ssh_config(5).   Multiple identities may be stored in ssh-agent concur‚Äê
rently and ssh(1) will automatically use them if  present.   ssh-add(1)
is  also  used to remove keys from ssh-agent and to query the keys that
are held in one.

Connections to ssh-agent may be forwarded from further remote hosts us‚Äê
ing the -A option to ssh(1) (but see the caveats  documented  therein),
avoiding  the  need  for  authentication data to be stored on other ma‚Äê
chines.  Authentication passphrases and private keys never go over  the
network:  the connection to the agent is forwarded over SSH remote con‚Äê
nections and the result is returned to the requester, allowing the user
access to their identities anywhere in the network in a secure fashion.
```



### Environment {#environment}

```
SSH_AGENT_PID  When ssh-agent starts, it stores the name of the agent's
               process ID (PID) in this variable.

SSH_AUTH_SOCK  When ssh-agent starts, it creates a  Unix-domain  socket
               and  stores its pathname in this variable.  It is acces‚Äê
               sible only to the current user, but is easily abused  by
               root or another instance of the same user.

In  Debian,  ssh-agent  is  installed with the set-group-id bit set, to
prevent ptrace(2) attacks retrieving private key  material.   This  has
the  side-effect of causing the run-time linker to remove certain envi‚Äê
ronment variables which might have  security  implications  for  set-id
programs,  including  LD_PRELOAD,  LD_LIBRARY_PATH, and TMPDIR.  If you
need to set any of these environment variables, you will need to do  so
in the program executed by ssh-agent.
```



### Files {#files}

```bash
$TMPDIR/ssh-XXXXXXXXXX/agent.<ppid>
        Unix-domain  sockets  used to contain the connection to the au‚Äê
        thentication agent.  These sockets should only be  readable  by
        the  owner.   The sockets should get automatically removed when
        the agent exits.
```



## See Also {#see-also}

```
ssh(1), ssh-add(1), ssh-keygen(1), ssh_config(5), sshd(8)
```



### Authors {#authors}

```
OpenSSH is a derivative of the original and free ssh 1.2.12 release  by
Tatu  Ylonen.   Aaron  Campbell, Bob Beck, Markus Friedl, Niels Provos,
Theo de Raadt and Dug Song removed many bugs, re-added  newer  features
and  created  OpenSSH.   Markus  Friedl contributed the support for SSH
protocol versions 1.5 and 2.0.
```


Debian                          August 10, 2023                   [SSH-AGENT(1)](SSH-AGENT.html)
