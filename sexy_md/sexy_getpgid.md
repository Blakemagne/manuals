# 📚 SETPGID, Manual

> *Beautiful, readable documentation for command-line tools*

---

[setpgid(2)](setpgid.html)                    System Calls Manual                   [setpgid(2)](setpgid.html)


## 📑 Table of Contents

- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Standards](#standards)
  - [History](#history)
- [Examples](#examples)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Versions](#versions)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Bugs](#bugs)
  - [Author](#author)
  - [Reporting Bugs](#reporting-bugs)
  - [Copyright](#copyright)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Attributes](#attributes)
  - [Standards](#standards)
  - [Posix.1-2008.](#posix.1-2008.)
  - [History](#history)
  - [Notes](#notes)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Standards](#standards)
  - [Posix.1-2008.](#posix.1-2008.)
  - [History](#history)
  - [Posix.1-2001.](#posix.1-2001.)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Author](#author)
  - [Reporting Bugs](#reporting-bugs)
  - [Copyright](#copyright)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Author](#author)
  - [Reporting Bugs](#reporting-bugs)
  - [Copyright](#copyright)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Options](#options)
- [Authors](#authors)
- [See Also](#see-also)
  - [Reporting Bugs](#reporting-bugs)
  - [Availability](#availability)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Versions](#versions)
  - [Standards](#standards)
  - [Posix.1-2008.](#posix.1-2008.)
  - [History](#history)
  - [Notes](#notes)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Files](#files)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Author](#author)
  - [Reporting Bugs](#reporting-bugs)
  - [Copyright](#copyright)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Configuration](#configuration)
- [Files](#files)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Standards](#standards)
  - [Posix.1-2008.](#posix.1-2008.)
  - [History](#history)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
- [Files](#files)
  - [Attributes](#attributes)
  - [Standards](#standards)
  - [History](#history)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Attributes](#attributes)
  - [Standards](#standards)
  - [C11, Posix.1-2008.](#c11,-posix.1-2008.)
  - [History](#history)
  - [Posix.1-2001, C99.](#posix.1-2001,-c99.)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
  - [Target](#target)
- [Description](#description)
- [Options](#options)
- [See Also](#see-also)
  - [Copyright](#copyright)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Author](#author)
  - [Reporting Bugs](#reporting-bugs)
  - [Copyright](#copyright)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Environment](#environment)
- [Files](#files)
- [See Also](#see-also)
- [Authors](#authors)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Exit Status](#exit-status)
- [Environment](#environment)
- [Files](#files)
- [See Also](#see-also)
  - [History](#history)
  - [Bugs](#bugs)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Attributes](#attributes)
  - [Standards](#standards)
  - [C11, Posix.1-2008.](#c11,-posix.1-2008.)
  - [History](#history)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Seccomp_Ret_Errno](#seccomp_ret_errno)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
- [Examples](#examples)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Options](#options)
  - [Keys](#keys)
  - [Exit Status](#exit-status)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Standards](#standards)
  - [Posix.1-2008.](#posix.1-2008.)
  - [History](#history)
  - [Posix.1-2001.](#posix.1-2001.)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Versions](#versions)
  - [Standards](#standards)
  - [Posix.1-2008.](#posix.1-2008.)
  - [History](#history)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [Examples](#examples)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Arguments](#arguments)
- [Options](#options)
- [See Also](#see-also)
  - [Url](#url)
- [Authors](#authors)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Versions](#versions)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [Examples](#examples)
- [See Also](#see-also)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Standards](#standards)
  - [Notes](#notes)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Options](#options)
  - [Exit Status](#exit-status)
- [Environment](#environment)
- [Files](#files)
  - [Notes](#notes)
  - [Nfs](#nfs)
  - [History](#history)
- [See Also](#see-also)
  - [Reporting Bugs](#reporting-bugs)
  - [Availability](#availability)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Versions](#versions)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
  - [Bugs](#bugs)
- [Examples](#examples)
- [See Also](#see-also)
- [Name](#name)
- [Synopsis](#synopsis)
- [Description](#description)
- [Options](#options)
  - [Exit Codes](#exit-codes)
- [See Also](#see-also)
- [Examples](#examples)
- [Authors](#authors)
  - [Copyright](#copyright)
  - [Notes](#notes)
- [Name](#name)
  - [Library](#library)
- [Synopsis](#synopsis)
- [Description](#description)
  - [Return Value](#return-value)
  - [Errors](#errors)
  - [Standards](#standards)
  - [History](#history)
  - [Notes](#notes)
- [See Also](#see-also)


## Name {#name}

```
setpgid, getpgid, setpgrp, getpgrp - set/get process group
```



### Library {#library}

```
Standard C library (libc, -lc)
```



## Synopsis {#synopsis}

```
#include <unistd.h>

int setpgid(pid_t pid, pid_t pgid);
pid_t getpgid(pid_t pid);

pid_t getpgrp(void);                            /* POSIX.1 version */
[[deprecated]] pid_t getpgrp(pid_t pid);        /* BSD version */

int setpgrp(void);                              /* System V version */
[[deprecated]] int setpgrp(pid_t pid, pid_t pgid);  /* BSD version */
```


   Feature Test Macro Requirements for glibc (see [feature_test_macros(7)](feature_test_macros.html)):

```
getpgid():
    _XOPEN_SOURCE >= 500
        || /* Since glibc 2.12: */ _POSIX_C_SOURCE >= 200809L

setpgrp() (POSIX.1):
    _XOPEN_SOURCE >= 500
        || /* Since glibc 2.19: */ _DEFAULT_SOURCE
        || /* glibc <= 2.19: */ _SVID_SOURCE

setpgrp() (BSD), getpgrp() (BSD):
    [These are available only before glibc 2.19]
    _BSD_SOURCE &&
        ! (_POSIX_SOURCE || _POSIX_C_SOURCE || _XOPEN_SOURCE
            || _GNU_SOURCE || _SVID_SOURCE)
```



## Description {#description}

```
All  of  these interfaces are available on Linux, and are used for get‐
ting and setting the process group ID (PGID) of a  process.   The  pre‐
ferred,  POSIX.1-specified  ways  of doing this are: getpgrp(void), for
retrieving the calling process's PGID; and  setpgid(),  for  setting  a
process's PGID.

setpgid()  sets  the  PGID of the process specified by pid to pgid.  If
pid is zero, then the process ID of the calling process  is  used.   If
pgid is zero, then the PGID of the process specified by pid is made the
same  as  its  process ID.  If setpgid() is used to move a process from
one process group to another (as is done by some shells  when  creating
pipelines),  both  process groups must be part of the same session (see
setsid(2) and credentials(7)).  In this case, the pgid specifies an ex‐
isting process group to be joined and the session ID of that group must
match the session ID of the joining process.

The POSIX.1 version of getpgrp(), which takes no arguments, returns the
PGID of the calling process.

getpgid() returns the PGID of the process specified by pid.  If pid  is
zero,  the  process ID of the calling process is used.  (Retrieving the
PGID of a process other than the caller is rarely  necessary,  and  the
POSIX.1 getpgrp() is preferred for that task.)

The  System V-style  setpgrp(), which takes no arguments, is equivalent
to setpgid(0, 0).

The BSD-specific setpgrp() call, which takes arguments pid and pgid, is
a wrapper function that calls

    setpgid(pid, pgid)

Since glibc 2.19, the BSD-specific setpgrp() function is no longer  ex‐
posed  by  <unistd.h>; calls should be replaced with the setpgid() call
shown above.

The BSD-specific getpgrp() call, which takes a single pid argument,  is
a wrapper function that calls

    getpgid(pid)

Since  glibc 2.19, the BSD-specific getpgrp() function is no longer ex‐
posed by <unistd.h>; calls should be replaced with calls to the POSIX.1
getpgrp() which takes no arguments (if the  intent  is  to  obtain  the
caller's PGID), or with the getpgid() call shown above.
```



### Return Value {#return-value}

```
On  success,  setpgid() and setpgrp() return zero.  On error, -1 is re‐
turned, and errno is set to indicate the error.

The POSIX.1 getpgrp() always returns the PGID of the caller.

getpgid(), and the BSD-specific getpgrp() return  a  process  group  on
success.   On  error,  -1 is returned, and errno is set to indicate the
error.
```



### Errors {#errors}

```
EACCES An attempt was made to change the process group ID of one of the
       children of the calling process and the child had  already  per‐
       formed an execve(2) (setpgid(), setpgrp()).

EINVAL pgid is less than 0 (setpgid(), setpgrp()).

EPERM  An  attempt was made to move a process into a process group in a
       different session, or to change the process group ID of  one  of
       the  children of the calling process and the child was in a dif‐
       ferent session, or to change the process group ID of  a  session
       leader (setpgid(), setpgrp()).

EPERM  The  target  process  group  does  not exist.  (setpgid(), setp‐
       grp()).

ESRCH  For getpgid(): pid does not match any process.   For  setpgid():
       pid  is  not  the calling process and not a child of the calling
       process.
```



### Standards {#standards}

```
getpgid()
setpgid()
getpgrp() (no args)
setpgrp() (no args)
       POSIX.1-2008 (but see HISTORY).

setpgrp() (2 args)
getpgrp() (1 arg)
       None.
```



### History {#history}

```
getpgid()
setpgid()
getpgrp() (no args)
       POSIX.1-2001.

setpgrp() (no args)
       POSIX.1-2001.  POSIX.1-2008 marks it as obsolete.

setpgrp() (2 args)
getpgrp() (1 arg)
       4.2BSD.
```



### Notes {#notes}

```
A child created via fork(2) inherits its  parent's  process  group  ID.
The PGID is preserved across an execve(2).

Each  process group is a member of a session and each process is a mem‐
ber of the session of which its process group is a member.   (See  cre‐
dentials(7).)

A  session can have a controlling terminal.  At any time, one (and only
one) of the process groups in the session can be the foreground process
group for the terminal; the remaining process groups are in  the  back‐
ground.   If  a signal is generated from the terminal (e.g., typing the
interrupt key to generate SIGINT), that signal is  sent  to  the  fore‐
ground process group.  (See termios(3) for a description of the charac‐
ters  that  generate  signals.)   Only the foreground process group may
read(2) from the terminal; if  a  background  process  group  tries  to
read(2)  from  the  terminal,  then the group is sent a SIGTTIN signal,
which suspends it.  The tcgetpgrp(3)  and  tcsetpgrp(3)  functions  are
used  to get/set the foreground process group of the controlling termi‐
nal.

The setpgid() and getpgrp() calls are used by programs such as  bash(1)
to create process groups in order to implement shell job control.

If  the  termination  of a process causes a process group to become or‐
phaned, and if any member  of  the  newly  orphaned  process  group  is
stopped, then a SIGHUP signal followed by a SIGCONT signal will be sent
to  each  process  in  the  newly  orphaned process group.  An orphaned
process group is one in which the parent of  every  member  of  process
group  is either itself also a member of the process group or is a mem‐
ber of a process  group  in  a  different  session  (see  also  creden‐
tials(7)).
```



## See Also {#see-also}

```
getuid(2),  setsid(2),  tcgetpgrp(3), tcsetpgrp(3), termios(3), creden‐
tials(7)
```


Linux man-pages 6.7               2023-10-31                        [setpgid(2)](setpgid.html)
